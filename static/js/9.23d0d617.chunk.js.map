{"version":3,"sources":["views/Dashboard/Search.js","views/Dashboard/Dashboard.js","containers/DefaultLayout/DefaultLayout.js"],"names":["search","props","react_default","a","createElement","Row","className","Col","md","CardGroup","Card","CardBody","Form","InputGroup","Input","type","placeholder","onChange","changes","Dashboard","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onSearchHandler","event","setState","loading","searchText","target","value","state","localStorage","getItem","console","log","searchCount","limitExceeded","canSearch","resetLimit","searchPopulation","planetData","searchData","axios","get","then","res","searchPlanets","data","results","filter","planet","name","sort","b","population","length","catch","err","timer","setInterval","tick","setTimeout","clearInterval","countDown","history","push","list","ListGroupItem","map","index","style","fontSize","key","color","Container","Search","ListGroup","Component","DefaultFooter","React","lazy","__webpack_require__","e","bind","DefaultHeader","Promise","all","DefaultLayout","preventDefault","removeItem","_this2","es","fixed","react","fallback","onLogout","signOut","fluid","react_router","path","component","from","to"],"mappings":"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","file":"static/js/9.23d0d617.chunk.js","sourcesContent":["import React from \"react\";\r\n//import axios from \"axios\";\r\n\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardGroup,\r\n  Row,\r\n  Col,\r\n  Form,\r\n  Input,\r\n  InputGroup\r\n} from \"reactstrap\";\r\n\r\nconst search = (props) => { \r\n    return (\r\n      <Row className=\"justify-content-center\">\r\n        <Col md=\"8\">\r\n          <CardGroup>\r\n            <Card className=\"p-4\">\r\n              <CardBody>\r\n                <Form>\r\n                  <h1>Search Planet</h1>\r\n                  <InputGroup className=\"mb-3\">\r\n                    <Input\r\n                      type=\"text\"\r\n                      placeholder=\"Search planet by name\"\r\n                      onChange ={props.changes}\r\n                      />\r\n                  </InputGroup>\r\n                </Form>\r\n              </CardBody>\r\n            </Card>\r\n          </CardGroup>\r\n        </Col>\r\n      </Row>\r\n    );\r\n}\r\n\r\nexport default search;\r\n","import React, { Component } from \"react\";\r\nimport { Container, Row, Col, ListGroup, ListGroupItem } from \"reactstrap\";\r\nimport Search from \"./Search\";\r\nimport axios from \"axios\";\r\n\r\nclass Dashboard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    if (localStorage.getItem(\"user_logged_in\") !== \"true\") {\r\n      this.props.history.push(\"/login\");\r\n    }\r\n\r\n    this.state = {\r\n      planetData: null,\r\n      searchText: null,\r\n      loading: false,\r\n      searchCount: 0,\r\n      limitExceeded: false,\r\n      canSearch: null,\r\n      countDown: 59\r\n    };\r\n  }\r\n\r\n  onSearchHandler = (event) => {\r\n    this.setState({ loading: true, searchText: event.target.value }, () => {\r\n      if (this.state.searchText) {\r\n        if(localStorage.getItem('username') !== 'Luke Skywalker'){\r\n          console.log(this.state.searchCount);\r\n          if(this.state.searchCount >= 15){\r\n            this.setState({limitExceeded : true, loading: false, canSearch: 'You can search 15 times in a minute.' });\r\n            this.resetLimit();\r\n            return\r\n          }\r\n         } \r\n       \r\n        this.searchPopulation(this.state.searchText);\r\n      } else {\r\n        this.setState({ loading: false, planetData: null });\r\n      }\r\n    });\r\n  };\r\n\r\n  searchPopulation = (searchData) => {\r\n    axios\r\n      .get(\"https://swapi.co/api/planets/\")\r\n      .then(res => {\r\n        let searchPlanets = res.data.results\r\n          .filter((planet) => {\r\n            if (planet.name.search(searchData) > -1) {\r\n              return planet;\r\n            } \r\n            return false;\r\n          })\r\n          .sort((a, b) => {\r\n            return a.population - b.population;\r\n          });\r\n        if (searchPlanets.length > 0) {\r\n          this.setState({ loading: false, planetData: searchPlanets });\r\n        } else {\r\n          this.setState({ loading: false, planetData: null });\r\n        }\r\n        if(localStorage.getItem('username') !== 'Luke Skywalker'){\r\n        this.setState({\r\n            searchCount: this.state.searchCount + 1\r\n         });\r\n       }\r\n\r\n\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n\r\n  resetLimit = () => {\r\n\r\n   let timer =  setInterval(() => this.tick(),1000)\r\n\r\n      setTimeout(\r\n        () => {\r\n          this.setState({\r\n            searchCount: 0, \r\n            limitExceeded: false,\r\n            canSearch: 'You can search again'\r\n          });\r\n        clearInterval(timer);\r\n        } ,\r\n        1000 * 60\r\n      )\r\n  }\r\n  \r\n  tick = () => {\r\n    this.setState({\r\n      countDown: this.state.countDown -1\r\n    });\r\n  }\r\n\r\n  render() {\r\n    \r\n   let list = <ListGroupItem>No Planet</ListGroupItem>;\r\n\r\n    if (this.state.planetData) {\r\n      list = this.state.planetData.map((planet,index) => {\r\n        return (\r\n          <ListGroupItem style={{fontSize: ( index * 2 ) + 12 +'px' }} key={planet.name}>\r\n            {planet.name} : {planet.population}\r\n          </ListGroupItem>\r\n        );\r\n      });\r\n    } \r\n\r\n    if(this.state.loading){\r\n        list =  <div className=\"animated fadeIn pt-1 text-center\"> Loading... </div>\r\n        \r\n    }\r\n    \r\n    if(this.state.searchCount > 15 && localStorage.getItem('username') !== 'Luke Skywalker')\r\n    {\r\n      \r\n      list = <div className=\"animated fadeIn pt-1 text-center\" style={{color:'red'}}> {this.state.canSearch} Time Left: {this.state.countDown}</div>\r\n    }\r\n\r\n    if(this.state.searchCount === 0 && localStorage.getItem('username') !== 'Luke Skywalker')\r\n    {\r\n      list = <div className=\"animated fadeIn pt-1 text-center\" style={{color:'green'}}> {this.state.canSearch}  </div>\r\n    }\r\n\r\n\r\n    return (\r\n      <Container>\r\n        <Search changes={this.onSearchHandler} />\r\n        <Row className=\"justify-content-center\">\r\n        <Col md=\"8\">\r\n            <ListGroup>\r\n              {list}\r\n            </ListGroup>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dashboard;\r\n","import React, { Component, Suspense } from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { Container } from \"reactstrap\";\r\nimport Dashboard from \"../../views/Dashboard/Dashboard\";\r\nimport { AppFooter, AppHeader } from \"@coreui/react\";\r\n\r\nconst DefaultFooter = React.lazy(() => import(\"./DefaultFooter\"));\r\nconst DefaultHeader = React.lazy(() => import(\"./DefaultHeader\"));\r\n\r\nclass DefaultLayout extends Component {\r\n  loading = () => (\r\n    <div className=\"animated fadeIn pt-1 text-center\">Loading...</div>\r\n  );\r\n\r\n  signOut(e) {\r\n    e.preventDefault();\r\n    localStorage.removeItem(\"user_logged_in\");\r\n    localStorage.removeItem(\"username\");\r\n    this.props.history.push(\"/login\");\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"app\">\r\n        <AppHeader fixed>\r\n          <Suspense fallback={this.loading()}>\r\n            <DefaultHeader onLogout={e => this.signOut(e)} />\r\n          </Suspense>\r\n        </AppHeader>\r\n        <div className=\"app-body\">\r\n          <main className=\"main\">\r\n            <Container fluid>\r\n              <Suspense fallback={this.loading()}>\r\n                <Route path=\"\" name=\"/dashboard\" component={Dashboard} />\r\n                <Redirect from=\"/\" to=\"/dashboard\" />\r\n              </Suspense>\r\n            </Container>\r\n          </main>\r\n        </div>\r\n        <AppFooter>\r\n          <Suspense fallback={this.loading()}>\r\n            <DefaultFooter />\r\n          </Suspense>\r\n        </AppFooter>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DefaultLayout;\r\n"],"sourceRoot":""}